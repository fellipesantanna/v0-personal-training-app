(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69035,e=>{"use strict";var t=e.i(43476),i=e.i(71645);e.i(74080);var r=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let s=i.forwardRef((e,i)=>{let{asChild:s,...n}=e,l=s?r.Slot:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(l,{...n,ref:i})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{}),s="horizontal",n=["horizontal","vertical"],l=i.forwardRef((e,i)=>{var r;let{decorative:l,orientation:o=s,...d}=e,u=(r=o,n.includes(r))?o:s;return(0,t.jsx)(a.div,{"data-orientation":u,...l?{role:"none"}:{"aria-orientation":"vertical"===u?u:void 0,role:"separator"},...d,ref:i})});l.displayName="Separator";var o=e.i(47163);function d({className:e,orientation:i="horizontal",decorative:r=!0,...a}){return(0,t.jsx)(l,{"data-slot":"separator",decorative:r,orientation:i,className:(0,o.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}e.s(["Separator",()=>d],69035)},91918,e=>{"use strict";var t=e.i(71645);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var r=e.i(43476),a=t.forwardRef((e,i)=>{let{children:a,...n}=e,o=t.Children.toArray(a),d=o.find(l);if(d){let e=d.props.children,a=o.map(i=>i!==d?i:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,r.jsx)(s,{...n,ref:i,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,r.jsx)(s,{...n,ref:i,children:a})});a.displayName="Slot";var s=t.forwardRef((e,r)=>{let{children:a,...s}=e;if(t.isValidElement(a)){var n;let e,l,o=(n=a,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref);return t.cloneElement(a,{...function(e,t){let i={...t};for(let r in t){let a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?i[r]=(...e)=>{s(...e),a(...e)}:a&&(i[r]=a):"style"===r?i[r]={...a,...s}:"className"===r&&(i[r]=[a,s].filter(Boolean).join(" "))}return{...e,...i}}(s,a.props),ref:r?function(...e){return t=>{let r=!1,a=e.map(e=>{let a=i(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():i(e[t],null)}}}}(r,o):o})}return t.Children.count(a)>1?t.Children.only(null):null});s.displayName="SlotClone";var n=({children:e})=>(0,r.jsx)(r.Fragment,{children:e});function l(e){return t.isValidElement(e)&&e.type===n}e.s(["Slot",()=>a],91918)},67881,31278,e=>{"use strict";let t,i;var r=e.i(43476),a=e.i(91918),s=e.i(7670);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=s.clsx;var o=e.i(47163);let d=(t="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var r;if((null==i?void 0:i.variants)==null)return l(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:a,defaultVariants:s}=i,o=Object.keys(a).map(t=>{let i=null==e?void 0:e[t],r=null==s?void 0:s[t];if(null===i)return null;let l=n(i)||n(r);return a[t][l]}),d=e&&Object.entries(e).reduce((e,t)=>{let[i,r]=t;return void 0===r||(e[i]=r),e},{});return l(t,o,null==i||null==(r=i.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:i,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,i]=e;return Array.isArray(i)?i.includes({...s,...d}[t]):({...s,...d})[t]===i})?[...e,i,r]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function u({className:e,variant:t,size:i,asChild:s=!1,...n}){let l=s?a.Slot:"button";return(0,r.jsx)(l,{"data-slot":"button",className:(0,o.cn)(d({variant:t,size:i,className:e})),...n})}e.s(["Button",()=>u],67881);let c=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>c],31278)},23750,e=>{"use strict";var t=e.i(43476),i=e.i(47163);function r({className:e,type:r,...a}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>r])},39144,e=>{"use strict";var t=e.i(17927);function i(e){return{id:e.id,routineId:e.routine_id,routineName:e.routine_name??"",startedAt:e.started_at?new Date(e.started_at):new Date,finishedAt:e.finished_at?new Date(e.finished_at):new Date,exercises:(e.session_exercises??[]).map(e=>({id:e.id,exerciseId:e.exercise_id,exerciseName:e.exercise_name??"Exercício",category:e.category??"weight-reps",position:e.position??0,sets:(e.sets??[]).map(e=>({id:e.id,setIndex:e.set_index,reps:e.reps??null,weightKg:e.weight_kg??null,durationSec:e.duration_sec??null,distanceM:e.distance_m??null}))}))}}e.s(["sessionsApi",0,{async getAll(){let{data:e,error:r}=await t.supabase.from("sessions").select(`
        id,
        routine_id,
        started_at,
        finished_at,
        session_exercises (
          id,
          exercise_id,
          sets (
            id,
            set_index,
            reps,
            weight_kg,
            duration_sec,
            distance_m
          )
        )
      `).order("started_at",{ascending:!1});if(r)throw r;return e.map(i)},async getById(e){let{data:r,error:a}=await t.supabase.from("sessions").select(`
        id,
        routine_id,
        started_at,
        finished_at,
        session_exercises (
          id,
          exercise_id,
          sets (
            id,
            set_index,
            reps,
            weight_kg,
            duration_sec,
            distance_m
          )
        )
      `).eq("id",e).single();if(a)throw a;return i(r)},async create(e){let{data:i}=await t.supabase.auth.getUser(),r=i?.user?.id;if(!r)throw Error("Usuário não autenticado");let{data:a,error:s}=await t.supabase.from("sessions").insert({user_id:r,routine_id:e.routineId,started_at:e.startedAt,finished_at:e.finishedAt}).select("*").single();if(s)throw s;for(let i of e.exercises){let{data:e,error:r}=await t.supabase.from("session_exercises").insert({session_id:a.id,exercise_id:i.exerciseId}).select("*").single();if(r)throw r;if(i.sets.length>0){let r=i.sets.map((t,i)=>({session_exercise_id:e.id,set_index:i,reps:t.reps??null,weight_kg:t.weightKg??null,duration_sec:t.durationSec??null,distance_m:t.distanceM??null})),{error:a}=await t.supabase.from("sets").insert(r);if(a)throw a}}return this.getById(a.id)}}],39144)},32074,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(17927),a=e.i(67881),s=e.i(23750),n=e.i(31278),l=e.i(75254);let o=(0,l.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),d=(0,l.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var u=e.i(84614);let c=(0,l.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),p=(0,l.default)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var f=e.i(39144),m=e.i(78481),h=e.i(69035);function x(){let[e,l]=(0,i.useState)(null),[x,g]=(0,i.useState)(!0),[v,b]=(0,i.useState)(!1),[y,w]=(0,i.useState)(""),[j,_]=(0,i.useState)(""),[N,k]=(0,i.useState)(""),[S,A]=(0,i.useState)("");async function C(){e&&(b(!0),await r.supabase.auth.updateUser({data:{name:y,goals:j,weight:N,height:S}}),b(!1),alert("Dados atualizados!"))}async function I(){await r.supabase.auth.signOut(),window.location.href="/"}async function z(){let e=await f.sessionsApi.getAll(),t=[];for(let i of e)t.push(await f.sessionsApi.getAll());let i=[];for(let e of(i.push("sessionId,routineName,startedAt,finishedAt,exerciseName,category,setIndex,reps,weightKg,durationSec,distanceM"),t))for(let t of e.exercises)for(let r of t.sets)i.push([e.id,e.routineName,e.startedAt.toISOString(),e.finishedAt.toISOString(),t.exerciseName,t.category,r.setIndex,r.reps??"",r.weightKg??"",r.durationSec??"",r.distanceM??""].join(","));let r=new Blob([i.join("\n")],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.setAttribute("download","treinos.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}return((0,i.useEffect)(()=>{!async function(){let{data:e}=await r.supabase.auth.getUser(),t=e.user;l(t),w(t?.user_metadata?.name??""),_(t?.user_metadata?.goals??""),k(t?.user_metadata?.weight??""),A(t?.user_metadata?.height??""),g(!1)}()},[]),x)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)(n.Loader2,{className:"animate-spin w-8 h-8 text-purple-500"})}):(0,t.jsxs)(m.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},className:"max-w-xl mx-auto p-6 flex flex-col gap-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Configurações"}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card p-4 shadow-sm flex flex-col gap-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(u.User,{className:"w-5 h-5 text-purple-500"}),"Perfil"]}),(0,t.jsx)("label",{className:"text-sm text-muted-foreground",children:"Nome"}),(0,t.jsx)(s.Input,{value:y,onChange:e=>w(e.target.value),placeholder:"Seu nome"}),(0,t.jsx)("label",{className:"text-sm text-muted-foreground",children:"Objetivo"}),(0,t.jsx)(s.Input,{value:j,onChange:e=>_(e.target.value),placeholder:"Ex: Hipertrofia, Emagrecimento, Resistência..."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(c,{className:"w-4 h-4 text-purple-500"}),"Peso (kg)"]}),(0,t.jsx)(s.Input,{type:"number",value:N,onChange:e=>k(e.target.value),placeholder:"Ex: 75"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(p,{className:"w-4 h-4 text-purple-500"}),"Altura (cm)"]}),(0,t.jsx)(s.Input,{type:"number",value:S,onChange:e=>A(e.target.value),placeholder:"Ex: 178"})]})]}),(0,t.jsx)(a.Button,{className:"mt-4 bg-purple-600 hover:bg-purple-700",disabled:v,onClick:C,children:v?(0,t.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):"Salvar alterações"})]}),(0,t.jsx)(h.Separator,{}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card p-4 shadow-sm flex flex-col gap-3",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,t.jsx)(d,{className:"w-5 h-5 text-purple-500"}),"Exportar dados"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Baixe todos os seus treinos completos em formato CSV."}),(0,t.jsx)(a.Button,{variant:"outline",onClick:z,children:"Exportar CSV"})]}),(0,t.jsx)(h.Separator,{}),(0,t.jsxs)("div",{className:"rounded-xl border bg-card p-4 shadow-sm flex flex-col gap-3",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2 text-red-500",children:[(0,t.jsx)(o,{className:"w-5 h-5"}),"Logout"]}),(0,t.jsx)(a.Button,{variant:"destructive",onClick:I,children:"Sair da conta"})]})]})}e.s(["default",()=>x],32074)}]);