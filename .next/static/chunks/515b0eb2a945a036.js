(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39144,e=>{"use strict";var t=e.i(17927);function i(e){return{id:e.id,routineId:e.routine_id,routineName:e.routine_name??"",startedAt:e.started_at?new Date(e.started_at):new Date,finishedAt:e.finished_at?new Date(e.finished_at):new Date,exercises:(e.session_exercises??[]).map(e=>({id:e.id,exerciseId:e.exercise_id,exerciseName:e.exercise_name??"Exercício",category:e.category??"weight-reps",position:e.position??0,sets:(e.sets??[]).map(e=>({id:e.id,setIndex:e.set_index,reps:e.reps??null,weightKg:e.weight_kg??null,durationSec:e.duration_sec??null,distanceM:e.distance_m??null}))}))}}e.s(["sessionsApi",0,{async getAll(){let{data:e,error:r}=await t.supabase.from("sessions").select(`
        id,
        routine_id,
        started_at,
        finished_at,
        session_exercises (
          id,
          exercise_id,
          sets (
            id,
            set_index,
            reps,
            weight_kg,
            duration_sec,
            distance_m
          )
        )
      `).order("started_at",{ascending:!1});if(r)throw r;return e.map(i)},async getById(e){let{data:r,error:s}=await t.supabase.from("sessions").select(`
        id,
        routine_id,
        started_at,
        finished_at,
        session_exercises (
          id,
          exercise_id,
          sets (
            id,
            set_index,
            reps,
            weight_kg,
            duration_sec,
            distance_m
          )
        )
      `).eq("id",e).single();if(s)throw s;return i(r)},async create(e){let{data:i}=await t.supabase.auth.getUser(),r=i?.user?.id;if(!r)throw Error("Usuário não autenticado");let{data:s,error:a}=await t.supabase.from("sessions").insert({user_id:r,routine_id:e.routineId,started_at:e.startedAt,finished_at:e.finishedAt}).select("*").single();if(a)throw a;for(let i of e.exercises){let{data:e,error:r}=await t.supabase.from("session_exercises").insert({session_id:s.id,exercise_id:i.exerciseId}).select("*").single();if(r)throw r;if(i.sets.length>0){let r=i.sets.map((t,i)=>({session_exercise_id:e.id,set_index:i,reps:t.reps??null,weight_kg:t.weightKg??null,duration_sec:t.durationSec??null,distance_m:t.distanceM??null})),{error:s}=await t.supabase.from("sets").insert(r);if(s)throw s}}return this.getById(s.id)}}],39144)},91918,e=>{"use strict";var t=e.i(71645);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var r=e.i(43476),s=t.forwardRef((e,i)=>{let{children:s,...n}=e,o=t.Children.toArray(s),d=o.find(l);if(d){let e=d.props.children,s=o.map(i=>i!==d?i:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,r.jsx)(a,{...n,ref:i,children:t.isValidElement(e)?t.cloneElement(e,void 0,s):null})}return(0,r.jsx)(a,{...n,ref:i,children:s})});s.displayName="Slot";var a=t.forwardRef((e,r)=>{let{children:s,...a}=e;if(t.isValidElement(s)){var n;let e,l,o=(n=s,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref);return t.cloneElement(s,{...function(e,t){let i={...t};for(let r in t){let s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?i[r]=(...e)=>{a(...e),s(...e)}:s&&(i[r]=s):"style"===r?i[r]={...s,...a}:"className"===r&&(i[r]=[s,a].filter(Boolean).join(" "))}return{...e,...i}}(a,s.props),ref:r?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=i(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():i(e[t],null)}}}}(r,o):o})}return t.Children.count(s)>1?t.Children.only(null):null});a.displayName="SlotClone";var n=({children:e})=>(0,r.jsx)(r.Fragment,{children:e});function l(e){return t.isValidElement(e)&&e.type===n}e.s(["Slot",()=>s],91918)},69035,e=>{"use strict";var t=e.i(43476),i=e.i(71645);e.i(74080);var r=e.i(91918),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let a=i.forwardRef((e,i)=>{let{asChild:a,...n}=e,l=a?r.Slot:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(l,{...n,ref:i})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{}),a="horizontal",n=["horizontal","vertical"],l=i.forwardRef((e,i)=>{var r;let{decorative:l,orientation:o=a,...d}=e,c=(r=o,n.includes(r))?o:a;return(0,t.jsx)(s.div,{"data-orientation":c,...l?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:i})});l.displayName="Separator";var o=e.i(47163);function d({className:e,orientation:i="horizontal",decorative:r=!0,...s}){return(0,t.jsx)(l,{"data-slot":"separator",decorative:r,orientation:i,className:(0,o.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}e.s(["Separator",()=>d],69035)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},17835,e=>{"use strict";let t=(0,e.i(75254).default)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);e.s(["Timer",()=>t],17835)},94827,e=>{"use strict";let t=(0,e.i(75254).default)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);e.s(["Gauge",()=>t],94827)},34056,e=>{"use strict";var t=e.i(43476),i=e.i(71645),r=e.i(18566),s=e.i(39144),a=e.i(78481),n=e.i(71689),l=e.i(12475),o=e.i(17835),d=e.i(94827);let c=(0,e.i(75254).default)("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);var u=e.i(69035);function p(){let e=(0,r.useParams)(),p=(0,r.useRouter)(),f=e.id,[m,x]=(0,i.useState)(!0),[h,g]=(0,i.useState)(null);(0,i.useEffect)(()=>{!async function(){x(!0);try{let e=await s.sessionsApi.getById(f);g(e)}finally{x(!1)}}()},[f]);let y={"weight-reps":l.Dumbbell,"bodyweight-reps":c,duration:o.Timer,"distance-duration":d.Gauge};if(m)return(0,t.jsx)("div",{className:"flex justify-center items-center min-h-[70vh]",children:(0,t.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-purple-500 border-t-transparent rounded-full"})});if(!h)return(0,t.jsx)("div",{className:"text-center p-6",children:"Sessão não encontrada."});let w=Math.round((h.finishedAt.getTime()-h.startedAt.getTime())/6e4);return(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.25},className:"max-w-3xl mx-auto p-6 flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{className:"p-2 rounded-lg hover:bg-muted transition",onClick:()=>p.back(),children:(0,t.jsx)(n.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:h.routineName}),(0,t.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Finalizado em"," ",h.finishedAt.toLocaleString("pt-BR",{day:"2-digit",month:"long",hour:"2-digit",minute:"2-digit"})]})]})]}),(0,t.jsx)(u.Separator,{}),(0,t.jsxs)("div",{className:"rounded-xl border p-4 bg-card shadow-sm flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-purple-600 font-semibold",children:[h.exercises.length," exercícios"]}),(0,t.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Duração total: ",w," min"]})]}),(0,t.jsx)(l.Dumbbell,{className:"w-10 h-10 text-purple-500"})]}),(0,t.jsx)(u.Separator,{}),(0,t.jsx)("div",{className:"flex flex-col gap-8",children:h.exercises.map(e=>{let i=y[e.category];return(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.2},className:"rounded-xl border bg-card p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-12 w-12 flex items-center justify-center rounded-lg bg-purple-100 dark:bg-purple-900/40",children:(0,t.jsx)(i,{className:"h-6 w-6 text-purple-700 dark:text-purple-300"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h2",{className:"font-semibold text-lg",children:e.exerciseName}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:e.category})]})]}),(0,t.jsx)("div",{className:"mt-4 flex flex-col gap-2",children:e.sets.map(i=>(0,t.jsxs)("div",{className:"rounded-lg border p-3 bg-muted/30 flex justify-between",children:[(0,t.jsxs)("span",{className:"font-medium text-purple-600",children:["Set ",i.setIndex+1]}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["weight-reps"===e.category&&`${i.weightKg}kg \xd7 ${i.reps} reps`,"bodyweight-reps"===e.category&&`${i.reps} reps`,"duration"===e.category&&`${i.durationSec}s`,"distance-duration"===e.category&&`${i.distanceM}m • ${i.durationSec}s`]})]},i.id))})]},e.id)})})]})}e.s(["default",()=>p],34056)}]);