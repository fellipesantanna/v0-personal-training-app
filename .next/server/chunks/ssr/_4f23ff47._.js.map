{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../lib/api/session.ts","../../../../lib/mappers/session.ts","../../../../node_modules/lucide-react/src/icons/gauge.ts","../../../../node_modules/lucide-react/src/icons/timer.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","import { supabase } from \"@/lib/supabase\"\r\nimport { mapDbSession } from \"@/lib/mappers/session\"\r\nimport { CreateSessionDto } from \"@/lib/types\"\r\n\r\nexport const sessionsApi = {\r\n  async getAll() {\r\n    const { data, error } = await supabase\r\n      .from(\"sessions\")\r\n      .select(`\r\n        id,\r\n        routine_id,\r\n        started_at,\r\n        finished_at,\r\n        session_exercises (\r\n          id,\r\n          exercise_id,\r\n          sets (\r\n            id,\r\n            set_index,\r\n            reps,\r\n            weight_kg,\r\n            duration_sec,\r\n            distance_m\r\n          )\r\n        )\r\n      `)\r\n      .order(\"started_at\", { ascending: false })\r\n\r\n    if (error) throw error\r\n    return data.map(mapDbSession)\r\n  },\r\n\r\n  async getById(id: string) {\r\n    const { data, error } = await supabase\r\n      .from(\"sessions\")\r\n      .select(`\r\n        id,\r\n        routine_id,\r\n        started_at,\r\n        finished_at,\r\n        session_exercises (\r\n          id,\r\n          exercise_id,\r\n          sets (\r\n            id,\r\n            set_index,\r\n            reps,\r\n            weight_kg,\r\n            duration_sec,\r\n            distance_m\r\n          )\r\n        )\r\n      `)\r\n      .eq(\"id\", id)\r\n      .single()\r\n\r\n    if (error) throw error\r\n    return mapDbSession(data)\r\n  },\r\n\r\n  async create(input: CreateSessionDto) {\r\n    const { data: userData } = await supabase.auth.getUser()\r\n    const userId = userData?.user?.id\r\n    if (!userId) throw new Error(\"Usuário não autenticado\")\r\n\r\n    // 1) Criar sessão\r\n    const { data: session, error: err1 } = await supabase\r\n      .from(\"sessions\")\r\n      .insert({\r\n        user_id: userId,\r\n        routine_id: input.routineId,\r\n        started_at: input.startedAt,\r\n        finished_at: input.finishedAt,\r\n      })\r\n      .select(\"*\")\r\n      .single()\r\n\r\n    if (err1) throw err1\r\n\r\n    // 2) Criar exercícios da sessão\r\n    for (const ex of input.exercises) {\r\n      const { data: dbEx, error: err2 } = await supabase\r\n        .from(\"session_exercises\")\r\n        .insert({\r\n          session_id: session.id,\r\n          exercise_id: ex.exerciseId,\r\n        })\r\n        .select(\"*\")\r\n        .single()\r\n\r\n      if (err2) throw err2\r\n\r\n      // 3) Criar sets\r\n      if (ex.sets.length > 0) {\r\n        const setsPayload = ex.sets.map((s, i) => ({\r\n          session_exercise_id: dbEx.id,\r\n          set_index: i,\r\n          reps: s.reps ?? null,\r\n          weight_kg: s.weightKg ?? null,\r\n          duration_sec: s.durationSec ?? null,\r\n          distance_m: s.distanceM ?? null,\r\n        }))\r\n\r\n        const { error: err3 } = await supabase\r\n          .from(\"sets\")\r\n          .insert(setsPayload)\r\n\r\n        if (err3) throw err3\r\n      }\r\n    }\r\n\r\n    return this.getById(session.id)\r\n  },\r\n}\r\n","// lib/mappers/session.ts\r\nimport { Session } from \"../types\"\r\n\r\nexport function mapDbSession(db: any): Session {\r\n  return {\r\n    id: db.id,\r\n    routineId: db.routine_id,\r\n    routineName: db.routine_name ?? \"\",\r\n    startedAt: db.started_at ? new Date(db.started_at) : new Date(),\r\n    finishedAt: db.finished_at ? new Date(db.finished_at) : new Date(),\r\n\r\n    exercises: (db.session_exercises ?? []).map((ex: any) => ({\r\n      id: ex.id,\r\n      exerciseId: ex.exercise_id,\r\n      exerciseName: ex.exercise_name ?? \"Exercício\",\r\n      category: ex.category ?? \"weight-reps\",\r\n      position: ex.position ?? 0,\r\n\r\n      sets: (ex.sets ?? []).map((s: any) => ({\r\n        id: s.id,\r\n        setIndex: s.set_index,\r\n        reps: s.reps ?? null,\r\n        weightKg: s.weight_kg ?? null,\r\n        durationSec: s.duration_sec ?? null,\r\n        distanceM: s.distance_m ?? null,\r\n      }))\r\n    }))\r\n  }\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Gauge\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTQgNC00IiAvPgogIDxwYXRoIGQ9Ik0zLjM0IDE5YTEwIDEwIDAgMSAxIDE3LjMyIDAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/gauge\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Gauge = createLucideIcon('Gauge', [\n  ['path', { d: 'm12 14 4-4', key: '9kzdfg' }],\n  ['path', { d: 'M3.34 19a10 10 0 1 1 17.32 0', key: '19p75a' }],\n]);\n\nexport default Gauge;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Timer\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTAiIHgyPSIxNCIgeTE9IjIiIHkyPSIyIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjE1IiB5MT0iMTQiIHkyPSIxMSIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE0IiByPSI4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/timer\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Timer = createLucideIcon('Timer', [\n  ['line', { x1: '10', x2: '14', y1: '2', y2: '2', key: '14vaq8' }],\n  ['line', { x1: '12', x2: '15', y1: '14', y2: '11', key: '17fdiu' }],\n  ['circle', { cx: '12', cy: '14', r: '8', key: '1e1u0o' }],\n]);\n\nexport default Timer;\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"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","ignoreList":[0,3,4]}