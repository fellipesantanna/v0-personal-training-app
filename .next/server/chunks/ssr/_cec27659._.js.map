{"version":3,"sources":["../../../../lib/api/session.ts","../../../../lib/mappers/session.ts","../../../../node_modules/%40radix-ui/react-slot/dist/index.mjs","../../../../node_modules/%40radix-ui/react-compose-refs/dist/index.mjs","../../../../node_modules/class-variance-authority/dist/index.mjs","../../../../components/ui/button.tsx","../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../lib/api/exercise.ts","../../../../lib/mappers/exercise.ts","../../../../lib/api/routines.ts","../../../../lib/mappers/routine.ts","../../../../app/sessao/page.tsx","../../../../app/sessao/session-content.tsx"],"sourcesContent":["import { supabase } from \"@/lib/supabase\"\r\nimport { mapDbSession } from \"@/lib/mappers/session\"\r\nimport { CreateSessionDto } from \"@/lib/types\"\r\n\r\nexport const sessionsApi = {\r\n  async getAll() {\r\n    const { data, error } = await supabase\r\n      .from(\"sessions\")\r\n      .select(`\r\n        id,\r\n        routine_id,\r\n        started_at,\r\n        finished_at,\r\n        session_exercises (\r\n          id,\r\n          exercise_id,\r\n          sets (\r\n            id,\r\n            set_index,\r\n            reps,\r\n            weight_kg,\r\n            duration_sec,\r\n            distance_m\r\n          )\r\n        )\r\n      `)\r\n      .order(\"started_at\", { ascending: false })\r\n\r\n    if (error) throw error\r\n    return data.map(mapDbSession)\r\n  },\r\n\r\n  async getById(id: string) {\r\n    const { data, error } = await supabase\r\n      .from(\"sessions\")\r\n      .select(`\r\n        id,\r\n        routine_id,\r\n        started_at,\r\n        finished_at,\r\n        session_exercises (\r\n          id,\r\n          exercise_id,\r\n          sets (\r\n            id,\r\n            set_index,\r\n            reps,\r\n            weight_kg,\r\n            duration_sec,\r\n            distance_m\r\n          )\r\n        )\r\n      `)\r\n      .eq(\"id\", id)\r\n      .single()\r\n\r\n    if (error) throw error\r\n    return mapDbSession(data)\r\n  },\r\n\r\n  async create(input: CreateSessionDto) {\r\n    const { data: userData } = await supabase.auth.getUser()\r\n    const userId = userData?.user?.id\r\n    if (!userId) throw new Error(\"Usuário não autenticado\")\r\n\r\n    // 1) Criar sessão\r\n    const { data: session, error: err1 } = await supabase\r\n      .from(\"sessions\")\r\n      .insert({\r\n        user_id: userId,\r\n        routine_id: input.routineId,\r\n        started_at: input.startedAt,\r\n        finished_at: input.finishedAt,\r\n      })\r\n      .select(\"*\")\r\n      .single()\r\n\r\n    if (err1) throw err1\r\n\r\n    // 2) Criar exercícios da sessão\r\n    for (const ex of input.exercises) {\r\n      const { data: dbEx, error: err2 } = await supabase\r\n        .from(\"session_exercises\")\r\n        .insert({\r\n          session_id: session.id,\r\n          exercise_id: ex.exerciseId,\r\n        })\r\n        .select(\"*\")\r\n        .single()\r\n\r\n      if (err2) throw err2\r\n\r\n      // 3) Criar sets\r\n      if (ex.sets.length > 0) {\r\n        const setsPayload = ex.sets.map((s, i) => ({\r\n          session_exercise_id: dbEx.id,\r\n          set_index: i,\r\n          reps: s.reps ?? null,\r\n          weight_kg: s.weightKg ?? null,\r\n          duration_sec: s.durationSec ?? null,\r\n          distance_m: s.distanceM ?? null,\r\n        }))\r\n\r\n        const { error: err3 } = await supabase\r\n          .from(\"sets\")\r\n          .insert(setsPayload)\r\n\r\n        if (err3) throw err3\r\n      }\r\n    }\r\n\r\n    return this.getById(session.id)\r\n  },\r\n}\r\n","// lib/mappers/session.ts\r\nimport { Session } from \"../types\"\r\n\r\nexport function mapDbSession(db: any): Session {\r\n  return {\r\n    id: db.id,\r\n    routineId: db.routine_id,\r\n    routineName: db.routine_name ?? \"\",\r\n    startedAt: db.started_at ? new Date(db.started_at) : new Date(),\r\n    finishedAt: db.finished_at ? new Date(db.finished_at) : new Date(),\r\n\r\n    exercises: (db.session_exercises ?? []).map((ex: any) => ({\r\n      id: ex.id,\r\n      exerciseId: ex.exercise_id,\r\n      exerciseName: ex.exercise_name ?? \"Exercício\",\r\n      category: ex.category ?? \"weight-reps\",\r\n      position: ex.position ?? 0,\r\n\r\n      sets: (ex.sets ?? []).map((s: any) => ({\r\n        id: s.id,\r\n        setIndex: s.set_index,\r\n        reps: s.reps ?? null,\r\n        weightKg: s.weight_kg ?? null,\r\n        durationSec: s.duration_sec ?? null,\r\n        distanceM: s.distance_m ?? null,\r\n      }))\r\n    }))\r\n  }\r\n}\r\n","// packages/react/slot/src/Slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment, jsx } from \"react/jsx-runtime\";\nvar Slot = React.forwardRef((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n  if (slottable) {\n    const newElement = slottable.props.children;\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement) ? newElement.props.children : null;\n      } else {\n        return child;\n      }\n    });\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n  }\n  return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n});\nSlot.displayName = \"Slot\";\nvar SlotClone = React.forwardRef((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  if (React.isValidElement(children)) {\n    const childrenRef = getElementRef(children);\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      // @ts-ignore\n      ref: forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef\n    });\n  }\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\nSlotClone.displayName = \"SlotClone\";\nvar Slottable = ({ children }) => {\n  return /* @__PURE__ */ jsx(Fragment, { children });\n};\nfunction isSlottable(child) {\n  return React.isValidElement(child) && child.type === Slottable;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nvar Root = Slot;\nexport {\n  Root,\n  Slot,\n  Slottable\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/compose-refs/src/composeRefs.tsx\nimport * as React from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    return ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == \"function\") {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == \"function\") {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\nfunction useComposedRefs(...refs) {\n  return React.useCallback(composeRefs(...refs), refs);\n}\nexport {\n  composeRefs,\n  useComposedRefs\n};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","import { supabase } from \"@/lib/supabase\";\r\nimport { mapDbExercise, toDbExercisePayload } from \"@/lib/mappers/exercise\";\r\n\r\nexport const exercisesApi = {\r\n  async getAll() {\r\n    const { data, error } = await supabase\r\n      .from(\"exercises\")\r\n      .select(\"*\")\r\n      .order(\"name\", { ascending: true });\r\n\r\n    if (error) throw error;\r\n    return data.map(mapDbExercise);\r\n  },\r\n\r\n  async getById(id: string) {\r\n    const { data, error } = await supabase\r\n      .from(\"exercises\")\r\n      .select(\"*\")\r\n      .eq(\"id\", id)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return mapDbExercise(data);\r\n  },\r\n\r\n  async create(dto: any, userId: string) {\r\n    const payload = toDbExercisePayload({ ...dto, userId });\r\n\r\n    const { data, error } = await supabase\r\n      .from(\"exercises\")\r\n      .insert(payload)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return mapDbExercise(data);\r\n  },\r\n\r\n  async delete(id: string) {\r\n    const { error } = await supabase\r\n      .from(\"exercises\")\r\n      .delete()\r\n      .eq(\"id\", id);\r\n\r\n    if (error) throw error;\r\n    return true;\r\n  }\r\n};\r\n","import { Exercise } from \"@/lib/types\";\r\n\r\nexport function mapDbExercise(row: any): Exercise {\r\n  return {\r\n    id: row.id,\r\n    name: row.name,\r\n    category: row.category,\r\n    createdAt: new Date(row.created_at),\r\n    userId: row.user_id,\r\n\r\n    suggestedReps: row.suggested_reps,\r\n    suggestedWeight: row.suggested_weight,\r\n    suggestedTime: row.suggested_time,\r\n    suggestedDistance: row.suggested_distance\r\n  };\r\n}\r\n\r\nexport function toDbExercisePayload(ex: Partial<Exercise>) {\r\n  return {\r\n    name: ex.name,\r\n    category: ex.category,\r\n    user_id: ex.userId,\r\n\r\n    suggested_reps: ex.suggestedReps ?? null,\r\n    suggested_weight: ex.suggestedWeight ?? null,\r\n    suggested_time: ex.suggestedTime ?? null,\r\n    suggested_distance: ex.suggestedDistance ?? null,\r\n  };\r\n}\r\n","import { supabase } from \"@/lib/supabase\";\r\nimport { mapDbRoutine } from \"@/lib/mappers/routine\";\r\n\r\n/* ============================================================\r\n   HELPERS\r\n============================================================ */\r\nfunction toDbRoutinePayload(routine: any, userId: string) {\r\n  return {\r\n    name: routine.name,\r\n    user_id: userId,\r\n    exercises: routine.exercises.map((e: any) => ({\r\n      exercise_id: e.exerciseId,\r\n      position: e.position,\r\n      suggested_sets: e.suggestedSets ?? null,\r\n      suggested_reps: e.suggestedReps ?? null,\r\n      advanced_technique: e.advancedTechnique ?? \"\",\r\n    })),\r\n  };\r\n}\r\n\r\n/* ============================================================\r\n   API\r\n============================================================ */\r\nexport const routinesApi = {\r\n  /* ---------- GET ALL ---------- */\r\n  async getAll() {\r\n    const { data, error } = await supabase\r\n      .from(\"routines\")\r\n      .select(`\r\n        id,\r\n        name,\r\n        created_at,\r\n        user_id,\r\n        routine_exercises (\r\n          id,\r\n          exercise_id,\r\n          position,\r\n          suggested_sets,\r\n          suggested_reps,\r\n          advanced_technique\r\n        )\r\n      `)\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) throw error;\r\n    return data.map(mapDbRoutine);\r\n  },\r\n\r\n  /* ---------- GET BY ID ---------- */\r\n  async getById(id: string) {\r\n    const { data, error } = await supabase\r\n      .from(\"routines\")\r\n      .select(`\r\n        id,\r\n        name,\r\n        created_at,\r\n        user_id,\r\n        routine_exercises (\r\n          id,\r\n          exercise_id,\r\n          position,\r\n          suggested_sets,\r\n          suggested_reps,\r\n          advanced_technique\r\n        )\r\n      `)\r\n      .eq(\"id\", id)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return mapDbRoutine(data);\r\n  },\r\n\r\n  /* ---------- CREATE ---------- */\r\n  async create(input: any) {\r\n    // 1) Criar rotina\r\n    const { data: routine, error } = await supabase\r\n      .from(\"routines\")\r\n      .insert({\r\n        name: input.name,\r\n        user_id: input.userId,\r\n      })\r\n      .select(\"*\")\r\n      .single();\r\n\r\n    if (error) throw error;\r\n\r\n    // 2) Criar exercícios da rotina\r\n    if (input.exercises.length > 0) {\r\n      const exercisePayload = input.exercises.map((e: any) => ({\r\n        routine_id: routine.id,\r\n        exercise_id: e.exerciseId,\r\n        position: e.position,\r\n        suggested_sets: e.suggestedSets ?? null,\r\n        suggested_reps: e.suggestedReps ?? null,\r\n        advanced_technique: e.advancedTechnique ?? \"\",\r\n      }));\r\n\r\n      const { error: exError } = await supabase\r\n        .from(\"routine_exercises\")\r\n        .insert(exercisePayload);\r\n\r\n      if (exError) throw exError;\r\n    }\r\n\r\n    return routinesApi.getById(routine.id);\r\n  },\r\n\r\n  /* ---------- UPDATE (FINAL) ---------- */\r\n  async update(id: string, input: any) {\r\n    // Garantir usuário autenticado\r\n    const { data: auth } = await supabase.auth.getUser();\r\n    const userId = auth?.user?.id;\r\n    if (!userId) throw new Error(\"Usuário não autenticado\");\r\n\r\n    const payload = toDbRoutinePayload(input, userId);\r\n\r\n    // 1) Atualizar nome da rotina\r\n    const { error: updateError } = await supabase\r\n      .from(\"routines\")\r\n      .update({\r\n        name: payload.name,\r\n        user_id: userId,\r\n      })\r\n      .eq(\"id\", id);\r\n\r\n    if (updateError) throw updateError;\r\n\r\n    // 2) Apagar exercícios antigos\r\n    await supabase.from(\"routine_exercises\").delete().eq(\"routine_id\", id);\r\n\r\n    // 3) Recriar exercícios atualizados\r\n    const newItems = payload.exercises.map((e: any) => ({\r\n      routine_id: id,\r\n      exercise_id: e.exercise_id ?? e.exerciseId,\r\n      position: e.position,\r\n      suggested_sets: e.suggested_sets ?? e.suggestedSets ?? null,\r\n      suggested_reps: e.suggested_reps ?? e.suggestedReps ?? null,\r\n      advanced_technique: e.advanced_technique ?? e.advancedTechnique ?? \"\",\r\n    }));\r\n\r\n    const { error: insertError } = await supabase\r\n      .from(\"routine_exercises\")\r\n      .insert(newItems);\r\n\r\n    if (insertError) throw insertError;\r\n\r\n    // 4) Retornar rotina final\r\n    return await routinesApi.getById(id);\r\n  },\r\n\r\n  /* ---------- DELETE ---------- */\r\n  async delete(id: string) {\r\n    const { error } = await supabase.from(\"routines\").delete().eq(\"id\", id);\r\n    if (error) throw error;\r\n    return true;\r\n  },\r\n};\r\n","import { Routine, RoutineExercise } from \"@/lib/types\";\r\n\r\nexport function mapDbRoutine(db: any) {\r\n  return {\r\n    id: db.id,\r\n    name: db.name,\r\n    createdAt: db.created_at,\r\n    userId: db.user_id,\r\n\r\n    exercises: (db.routine_exercises ?? []).map((ex: any) => ({\r\n      id: ex.id,\r\n      exerciseId: ex.exercise_id,\r\n      position: ex.position,\r\n      suggestedSets: ex.suggested_sets ?? null,\r\n      suggestedReps: ex.suggested_reps ?? null,\r\n      advancedTechnique: ex.advanced_technique ?? \"\"\r\n    }))\r\n  }\r\n}\r\n\r\nfunction mapDbRoutineExercise(row: any): RoutineExercise {\r\n  return {\r\n    id: row.id,\r\n    exerciseId: row.exercise_id,\r\n    position: row.position ?? 0,\r\n    suggestedSets: row.suggested_sets ?? null,\r\n    suggestedReps: row.suggested_reps ?? null,\r\n    advancedTechnique: row.advanced_technique ?? \"\"\r\n  };\r\n}\r\n\r\nexport function toDbRoutinePayload(routine: any) {\r\n  return {\r\n    name: routine.name,\r\n    user_id: routine.userId,\r\n    exercises: routine.exercises.map((e: any) => ({\r\n      exercise_id: e.exerciseId,\r\n      position: e.position,\r\n      suggested_sets: e.suggestedSets ?? null,\r\n      suggested_reps: e.suggestedReps ?? null,\r\n      advanced_technique: e.advancedTechnique ?? \"\",\r\n    }))\r\n  };\r\n}\r\n","\"use client\";\r\n\r\nimport { Suspense } from \"react\";\r\nimport SessionPageContent from \"./session-content\";\r\n\r\nexport default function Page() {\r\n  return (\r\n    <Suspense fallback={<div className=\"p-6\">Carregando sessão...</div>}>\r\n      <SessionPageContent />\r\n    </Suspense>\r\n  );\r\n}","\"use client\";\r\n\r\nimport { useSearchParams, useRouter } from \"next/navigation\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { routinesApi } from \"@/lib/api/routines\"\r\nimport { sessionsApi } from \"@/lib/api/session\"\r\nimport { exercisesApi } from \"@/lib/api/exercise\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Loader2 } from \"lucide-react\"\r\n\r\n// Estrutura local para montar os exercícios da sessão\r\ntype SessionExerciseDraft = {\r\n  exerciseId: string\r\n  name: string\r\n  category: string\r\n  position: number\r\n  sets: {\r\n    id: string\r\n    reps: number | null\r\n    weightKg: number | null\r\n    durationSec: number | null\r\n    distanceM: number | null\r\n  }[]\r\n}\r\n\r\nexport default function SessionPageContent() {\r\n  const search = useSearchParams()\r\n  const router = useRouter()\r\n\r\n  const routineId = search.get(\"routine\")\r\n\r\n  const [loading, setLoading] = useState(true)\r\n  const [saving, setSaving] = useState(false)\r\n  const [routine, setRoutine] = useState<any>(null)\r\n\r\n  // momento que o treino começou\r\n  const [startedAt] = useState(() => new Date())\r\n\r\n  // exercícios desta sessão (com sets sendo preenchidos pelo usuário)\r\n  const [sessionExercises, setSessionExercises] = useState<SessionExerciseDraft[]>([])\r\n\r\n  // =========================================================\r\n  // Carregar rotina + exercícios\r\n  // =========================================================\r\n  useEffect(() => {\r\n    async function load() {\r\n      if (!routineId) {\r\n        router.push(\"/rotinas\")\r\n        return\r\n      }\r\n\r\n      setLoading(true)\r\n      try {\r\n        const [r, allExercises] = await Promise.all([\r\n          routinesApi.getById(routineId),\r\n          exercisesApi.getAll(),\r\n        ])\r\n\r\n        setRoutine(r)\r\n\r\n        const prepared: SessionExerciseDraft[] = r.exercises.map((re: any, idx: number) => {\r\n          const ex = allExercises.find((e: any) => e.id === re.exerciseId)\r\n\r\n          return {\r\n            exerciseId: re.exerciseId,\r\n            name: ex?.name ?? \"Exercício\",\r\n            category: ex?.category ?? \"peso_reps\", // default se não achar\r\n            position: re.position ?? idx,\r\n            sets: [],\r\n          }\r\n        })\r\n\r\n        setSessionExercises(prepared)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    load()\r\n  }, [routineId, router])\r\n\r\n  // =========================================================\r\n  // Adicionar um set simples\r\n  // =========================================================\r\n  function addSet(exerciseIndex: number) {\r\n    setSessionExercises(prev => {\r\n      const next = [...prev]\r\n      const ex = next[exerciseIndex]\r\n\r\n      ex.sets.push({\r\n        id: crypto.randomUUID(),\r\n        reps: 10,\r\n        weightKg: null,\r\n        durationSec: null,\r\n        distanceM: null,\r\n      })\r\n\r\n      return next\r\n    })\r\n  }\r\n\r\n  // =========================================================\r\n  // Finalizar treino\r\n  // =========================================================\r\n  async function finalizarTreino() {\r\n    if (!routine) {\r\n      alert(\"Rotina não carregada.\");\r\n      return;\r\n    }\r\n\r\n    setSaving(true);\r\n\r\n    try {\r\n      await sessionsApi.create({\r\n        routineId: routineId!,\r\n        startedAt: startedAt,\r\n        finishedAt: new Date(),\r\n        exercises: sessionExercises.map(ex => ({\r\n          exerciseId: ex.exerciseId,\r\n          category: ex.category,\r\n          sets: ex.sets.map((s: any) => ({\r\n            id: s.id ?? crypto.randomUUID(),\r\n            reps: s.reps ?? null,\r\n            weightKg: s.weightKg ?? null,\r\n            durationSec: s.durationSec ?? null,\r\n            distanceM: s.distanceM ?? null,\r\n          }))\r\n        }))\r\n      });\r\n\r\n      router.push(\"/historico\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Erro ao salvar sessão.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  // =========================================================\r\n  // UI\r\n  // =========================================================\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-[70vh]\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!routine) {\r\n    return <div className=\"p-6\">Rotina não encontrada.</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-3xl mx-auto flex flex-col gap-6\">\r\n      <h1 className=\"text-2xl font-bold\">{routine.name}</h1>\r\n\r\n      {sessionExercises.map((ex, idx) => (\r\n        <div key={ex.exerciseId} className=\"rounded-lg border p-4 bg-card\">\r\n          <h2 className=\"font-semibold\">{ex.name}</h2>\r\n          <p className=\"text-xs text-muted-foreground mb-1\">\r\n            Categoria: {ex.category}\r\n          </p>\r\n\r\n          <Button\r\n            onClick={() => addSet(idx)}\r\n            className=\"mt-3\"\r\n            variant=\"outline\"\r\n          >\r\n            + Registrar set\r\n          </Button>\r\n\r\n          <div className=\"mt-3 flex flex-col gap-2\">\r\n            {ex.sets.map((s, i) => (\r\n              <div\r\n                key={s.id}\r\n                className=\"border rounded-md p-2 flex justify-between text-sm\"\r\n              >\r\n                <span>Set {i + 1}</span>\r\n                <span>{s.reps} reps</span>\r\n              </div>\r\n            ))}\r\n\r\n            {ex.sets.length === 0 && (\r\n              <span className=\"text-xs text-muted-foreground\">\r\n                Nenhum set registrado ainda.\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      <Button\r\n        className=\"bg-green-600 hover:bg-green-700 mt-6\"\r\n        onClick={finalizarTreino}\r\n        disabled={saving}\r\n      >\r\n        {saving ? (\r\n          <>\r\n            <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\r\n            Salvando treino...\r\n          </>\r\n        ) : (\r\n          \"Finalizar treino\"\r\n        )}\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[2,3,4,6]}